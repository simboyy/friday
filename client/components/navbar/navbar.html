<div ng-controller="NavbarCtrl">
<!-- *** TOPBAR ***
_________________________________________________________ -->
<div id="top" style="border:0px">
    <div class="container">
        <div class="col-md-6 offer" data-animate="fadeInDown">
            <a href="#" class="btn btn-danger btn-sm" data-animate-hover="shake">Offer of the day</a>  <a href="#">Get flat 35% off on orders over $50!</a>
        </div>
        <div class="col-md-6" data-animate="fadeInDown">
            <ul class="menu">
              <li ng-hide="isLoggedIn()" ng-class="{active: isActive('/signup')}"><a href="/signup">Sign up</a></li>
              <li ng-hide="isLoggedIn()" ng-class="{active: isActive('/login')}"><a href="/login">Login</a></li>
              <li ng-show="isLoggedIn()"><a href="">Welcome {{ getCurrentUser().name }} </a></li>
              <li class="dropdown" ng-show="isLoggedIn()" dropdown="">
                <a href="#" data-toggle="dropdown"><i class="fa fa-dashboard">&nbsp;</i>My Aardath<b class="caret"></b>
                  </a>

						<div class="dropdown dropdown-accordion" data-accordion="#accordion">
							  
							  <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
							    <li>
							      <div class="panel-group" id="accordion">
							        <div class="panel panel-default">
							          <div class="panel-heading">
							            <h4 class="panel-title">
							              <a href="#collapseOne" data-toggle="collapse" data-parent="#accordion">
							                Online Store
							              </a>
							            </h4>
							          </div>
							          <div class="panel-collapse collapse" id="collapseOne">
							            <div class="panel-body">
							              <ul class="list-group">
											<li ng-show="isAdmin()"  ng-class="{active: isActive('/product')}">
							                    <a href="/product"><i class="fa fa-truck">&nbsp;</i>Products</a>
							                  </li>
							                  <li ng-show="isAdmin()" ng-class="{active: isActive('/category')}">
							                    <a href="/category"><i class="fa fa-ticket">&nbsp;</i>Categories</a>
							                  </li>
							                  <li ng-show="isAdmin()" ng-class="{active: isActive('/brand')}">
							                    <a href="/brand"><i class="fa fa-tag">&nbsp;</i>Brands</a>
							                  </li>
							                  <li ng-show="isAdmin()" ng-class="{active: isActive('/feature')}">
							                    <a href="/feature"><i class="fa fa-tag">&nbsp;</i>Features</a>
							                  </li>
							                  <li ng-show="isAdmin()" ng-class="{active: isActive('/coupon')}">
							                    <a href="/coupon"><i class="fa fa-tag">&nbsp;</i>Coupons</a>
							                  </li>
							                  <li ng-show="isLoggedIn()" ng-class="{active: isActive('/order')}">
							                    <a href="/order"><i class="fa fa-road">&nbsp;</i>Orders</a>
							                  </li>
											
										</ul>
							            </div>
							          </div>
							        </div>


							        <div class="panel panel-default">
							          <div class="panel-heading">
							            <h4 class="panel-title">
							              <a href="#collapseTwo" data-toggle="collapse" data-parent="#accordion">
							                Market Place
							              </a>
							            </h4>
							          </div>
							          <div class="panel-collapse collapse" id="collapseTwo">
							            <div class="panel-body">
							              <ul class="list-group">
												<li ng-show="isAdmin()" ng-class="{active: isActive('/product')}">
								                    <a href="/productmp"><i class="fa fa-truck">&nbsp;</i>Products</a>
								                  </li>
								                  <li ng-show="isAdmin()" ng-class="{active: isActive('/category')}">
								                    <a href="/categorymp"><i class="fa fa-ticket">&nbsp;</i>Categories</a>
								                  </li>
								                  <li ng-show="isAdmin()" ng-class="{active: isActive('/brand')}">
								                    <a href="/brandmp"><i class="fa fa-tag">&nbsp;</i>Brands</a>
								                  </li>
								                 
								                  <li ng-show="isAdmin()" ng-class="{active: isActive('/coupon')}">
								                    <a href="/couponmp"><i class="fa fa-tag">&nbsp;</i>Coupons</a>
								                  </li>
								                  <li ng-show="isLoggedIn()" ng-class="{active: isActive('/order')}">
								                    <a href="/ordermp"><i class="fa fa-road">&nbsp;</i>Orders</a>
								                  </li>

												
											</ul>
							            </div>
							          </div>
							        </div>

							        <div class="panel panel-default">
							          <div class="panel-heading">
							            <h4 class="panel-title">
							              <a href="#collapseTHREE" data-toggle="collapse" data-parent="#accordion">
							                Order In
							              </a>
							            </h4>
							          </div>
							          <div class="panel-collapse collapse" id="collapseTHREE">
							            <div class="panel-body">

								<ul class="list-group">
									<li ng-show="isAdmin()" ng-class="{active: isActive('/product')}">
					                    <a href="/productoi"><i class="fa fa-truck">&nbsp;</i>Products</a>
					                  </li>
					                  <li ng-show="isAdmin()" ng-class="{active: isActive('/category')}">
					                    <a href="/categoryoi"><i class="fa fa-ticket">&nbsp;</i>Categories</a>
					                  </li>
					                  <li ng-show="isAdmin()" ng-class="{active: isActive('/brand')}">
					                    <a href="/brandoi"><i class="fa fa-tag">&nbsp;</i>Brands</a>
					                  </li>
					                 
					                  <li ng-show="isAdmin()" ng-class="{active: isActive('/coupon')}">
					                    <a href="/couponoi"><i class="fa fa-tag">&nbsp;</i>Coupons</a>
					                  </li>
					                  <li ng-show="isLoggedIn()" ng-class="{active: isActive('/order')}">
					                    <a href="/orderoi"><i class="fa fa-road">&nbsp;</i>Orders</a>
								</ul>

							            </div>
							          </div>
							        </div>


							        <div class="panel panel-default">
							          <div class="panel-heading">
							            <h4 class="panel-title">
							              <a href="#collapseFour" data-toggle="collapse" data-parent="#accordion">
							                Ticketing
							              </a>
							            </h4>
							          </div>
							          <div class="panel-collapse collapse" id="collapseFour">
							            <div class="panel-body">
							              
				<ul class="list-group" >
					<li ng-show="isAdmin()" ng-class="{active: isActive('/product')}">
	                    <a href="/producttng"><i class="fa fa-truck">&nbsp;</i>Products</a>
	                  </li>
	                  <li ng-show="isAdmin()" ng-class="{active: isActive('/category')}">
	                    <a href="/categorytng"><i class="fa fa-ticket">&nbsp;</i>Categories</a>
	                  </li>
	                  <li ng-show="isAdmin()" ng-class="{active: isActive('/brand')}">
	                    <a href="/brandtng"><i class="fa fa-tag">&nbsp;</i>Brands</a>
	                  </li>
	                 
	                  <li ng-show="isAdmin()" ng-class="{active: isActive('/coupon')}">
	                    <a href="/coupontng"><i class="fa fa-tag">&nbsp;</i>Coupons</a>
	                  </li>
	                  <li ng-show="isLoggedIn()" ng-class="{active: isActive('/order')}">
	                    <a href="/ordertng"><i class="fa fa-road">&nbsp;</i>Orders</a>
	                  </li>
				</ul>
							            </div>
							          </div>
							        </div>
							      </div>


							    </li>


				<li ng-show="isLoggedIn()" ng-class="{active: isActive('/settings')}">
                    <a href="/settings">Change Password</a>
                  </li>
                  <li ng-show="isAdmin()" ng-class="{active: isActive('/customer')}">
                    <a href="/customer">Customers</a>
                  </li>
                  <li ng-show="isAdmin()" ng-class="{active: isActive('/paymentMethod')}">
                    <a href="/paymentMethod">Payment Method</a>
                  </li>
                  <li ng-show="isAdmin()" ng-class="{active: isActive('/shipping')}">
                    <a href="/shipping">Shipping Settings</a>
                  </li>
                  <!-- <li ng-show="isAdmin()" ng-class="{active: isActive('/country')}">
                    <a href="/country"><i class="fa fa-wrench">&nbsp;</i>Country</a>
                  </li> -->
                  <li ng-show="isLoggedIn()" ng-class="{active: isActive('/logout')}">
                    <a href="" ng-click="logout()">Logout</a>
                  </li>
							  </ul>
							</div>

       			</li>
                <li><a href="/contact">Contact</a>
                </li>
                
                </li>
            </ul>
        </div>
    </div>
    <div class="modal fade" id="login-modal" tabindex="-1" role="dialog" aria-labelledby="Login" aria-hidden="true">
        <div class="modal-dialog modal-sm">

            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 class="modal-title" id="Login">Customer login</h4>
                </div>
                <div class="modal-body">
                    <form action="customer-orders.html" method="post">
                        <div class="form-group">
                            <input type="text" class="form-control" id="email-modal" placeholder="email">
                        </div>
                        <div class="form-group">
                            <input type="password" class="form-control" id="password-modal" placeholder="password">
                        </div>

                        <p class="text-center">
                            <button class="btn btn-primary"><i class="fa fa-sign-in"></i> Log in</button>
                        </p>

                    </form>

                    <p class="text-center text-muted">Not registered yet?</p>
                    <p class="text-center text-muted"><a href="register.html"><strong>Register now</strong></a>! It is easy and done in 1&nbsp;minute and gives you access to special discounts and much more!</p>

                </div>
            </div>
        </div>
    </div>

</div>

<!-- *** TOP BAR END *** -->

<!-- *** NAVBAR ***
_________________________________________________________ -->


  <nav class="navbar navbar-default">
    <div class="navbar-header">
      <button class="navbar-toggle" type="button" data-toggle="collapse" data-target=".js-navbar-collapse">
      <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </button>
    <a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a>
  </div>
  
  <div class="collapse navbar-collapse js-navbar-collapse">
    <ul class="nav navbar-nav">
    <li><a class="navbar-brand home" href="index.html" data-animate-hover="bounce">
                <img src="/assets/img/logo.png" alt="Aadarth logo" class="hidden-xs">
                <img src="/assets/img/logo.png" alt="Aardath logo" class="visible-xs"><span class="sr-only">Aadarth Marketplace</span>
    </a></li>
    
      <li class="dropdown mega-dropdown">
        <a href="/" class="dropdown-toggle" data-toggle="dropdown">Online Store <span class="caret"></span></a>        
        <ul class="dropdown-menu mega-dropdown-menu">
          <!-- <li class="col-sm-3">
         
          </li> -->
          
          
          <li class="col-sm-3" ng-repeat= "p in categories">
              <a class="dropdown-header" href="#">{{p.name}} </a>
         
              <ul ng-repeat="c in p.sub_categories">
                 <li><a ng-click="navigate({page:'Category',slug:c.slug ,id:c._id})">{{c.name}}</a>
                                      </a>
                                      </li>
                     
              
              </ul>                       
       
          </li>
        </ul>       
      </li>
       <li class="dropdown mega-dropdown">
        <a href="/mainmp" class="dropdown-toggle" data-toggle="dropdown">Market Place <span class="caret"></span></a>        
        <ul class="dropdown-menu mega-dropdown-menu">
          <!-- <li class="col-sm-3">
         
          </li> -->
          
          
          <li class="col-sm-3" ng-repeat= "p in categoriesMP">
              <a class="dropdown-header" href="#">{{p.name}} </a>
         
              <ul ng-repeat="c in p.sub_categories">
                  <li><a ng-click="navigate({page:'CategoryMP',slug:c.slug ,id:c._id})">{{c.name}}</a>
                     
              
              </ul>                       
       
          </li>
        </ul>       
      </li>
       <li class="dropdown mega-dropdown">
        <a href="/mainoi" class="dropdown-toggle" data-toggle="dropdown">Order In <span class="caret"></span></a>        
        <ul class="dropdown-menu mega-dropdown-menu">
          <!-- <li class="col-sm-3">
         
          </li> -->
          
          
          <li class="col-sm-3" ng-repeat= "p in categoriesOI">
              <a class="dropdown-header" href="#">{{p.name}} </a>
         
              <ul ng-repeat="c in p.sub_categories">
                  <li><a ng-click="navigate({page:'CategoryOI',slug:c.slug ,id:c._id})">{{c.name}}</a>
                     
              
              </ul>                       
       
          </li>
        </ul>       
      </li>
       <li class="dropdown mega-dropdown">
        <a href="/maintng" class="dropdown-toggle" data-toggle="dropdown">Ticketing <span class="caret"></span></a>        
        <ul class="dropdown-menu mega-dropdown-menu">
          <!-- <li class="col-sm-3">
         
          </li> -->
          
          
          <li class="col-sm-3" ng-repeat= "p in categoriesTNG">
              <a class="dropdown-header" href="#">{{p.name}} </a>
         
              <ul ng-repeat="c in p.sub_categories">
                  <li><a ng-click="navigate({page:'CategoryTNG',slug:c.slug ,id:c._id})">{{c.name}}</a>
              
              </ul>                       
       
          </li>
        </ul>       
      </li>
      <li><a href="#">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></li>

      </ul>
                    
       
        <ul class="nav navbar-nav navbar-right" style="align:right">
      

        <li>
             <div class="navbar-buttons">

             <div class="navbar-collapse collapse right" id="basket-overview">
                <a class="btn btn-danger navbar-btn" ng-click="openWishlist(wishlist,'lg');" href=""><i class="fa fa-heart">&nbsp;</i> <span class="hidden-sm">({{wishlist.getTotalCount()}}) </a>
            </div>
            &nbsp;&nbsp;

            <div class="navbar-collapse collapse right" id="basket-overview">
                <a class="btn btn-danger navbar-btn" ng-click="openCart(cart,'lg');" href=""><i class="fa fa-shopping-cart">&nbsp;</i> <span class="hidden-sm">Cart ({{cart.getTotalCount()}}) - {{cart.getTotalPrice() | currency:"$"}}</span></a>
            </div>
            <!--/.nav-collapse -->

            <div class="navbar-collapse collapse right" id="search-not-mobile">
                <button type="button" class="btn navbar-btn btn-danger" data-toggle="collapse" data-target="#search">
                    <span class="sr-only">Toggle search</span>
                    <i class="fa fa-search"></i>
                </button>
            </div>

        </div>


        </li>
      </ul>
  </div><!-- /.nav-collapse -->
  </nav>


        <div class="collapse clearfix" id="search">

        <div class="row">
          <div class="col-md-3"></div>
          <div class="col-md-6">
            
              <form id="searchForm" class="ng-scope ng-pristine ng-valid navbar-form" role="search">
            <div class="nav-search text-center" id="nav-search">
              <span class="input-icon">
                <script type="text/ng-template" id="searchTemplate.html">
                    <a><span>{{match.model.name}}</span></a>
                </script>
                <div class="input-group">
                <input class="form-control text-left" type="text" name="q" id="q" autocomplete="off"
                placeholder="Search for a product, category or brand..."
                ng-model="search"
                typeahead="p as p.name for p in globalSearch($viewValue)"
                typeahead-loading="loadingLocations"
                typeahead-no-results="noResults"
                typeahead-template-url="searchTemplate.html"
                typeahead-on-select="onSelectProduct($item, $model, $label)"
                autofocus=""
                >
                <span class="input-group-btn">

                  <button type="submit" class="btn btn-primary"><i class="fa fa-search"></i>Search</button>

                </span>
              </div>
            </span>
          </form>
          </div>
          <div class="col-md-3"></div>
        </div>
          

            <!-- <form class="navbar-form" role="search">
                <div class="input-group">
                    <input type="text" class="form-control" placeholder="Search">
                    <span class="input-group-btn">

  <button type="submit" class="btn btn-primary"><i class="fa fa-search"></i></button>

    </span>
                </div>
            </form> -->

        </div>





</div>

<script> 
	$(function(){
	$(".dropdown-menu > li > a.trigger").on("click",function(e){
		var current=$(this).next();
		var grandparent=$(this).parent().parent();
		if($(this).hasClass('left-caret')||$(this).hasClass('right-caret'))
			$(this).toggleClass('right-caret left-caret');
		grandparent.find('.left-caret').not(this).toggleClass('right-caret left-caret');
		grandparent.find(".sub-menu:visible").not(current).hide();
		current.toggle();
		e.stopPropagation();
	});
	$(".dropdown-menu > li > a:not(.trigger)").on("click",function(){
		var root=$(this).closest('.dropdown');
		root.find('.left-caret').toggleClass('right-caret left-caret');
		root.find('.sub-menu:visible').hide();
	});
});
</script>

<script>
  $(document).ready(function(){


    $(".dropdown").hover(            
        function() {
            $('.dropdown-menu', this).not('.in .dropdown-menu').stop(true,true).slideDown("400");
            $(this).toggleClass('open');        
        },
        function() {
            $('.dropdown-menu', this).not('.in .dropdown-menu').stop(true,true).slideUp("400");
            $(this).toggleClass('open');       
        }
    );
});
</script>
<script >
   $(document).on('click','.navbar-collapse.in',function(e) {
    if( $(e.target).is('a') ) {
        $(this).collapse('hide');
    }
});
</script>
<script>
// Collapse accordion every time dropdown is shown
$('.dropdown-accordion').on('show.bs.dropdown', function (event) {
  var accordion = $(this).find($(this).data('accordion'));
  accordion.find('.panel-collapse.in').collapse('hide');
});

// Prevent dropdown to be closed when we click on an accordion link
$('.dropdown-accordion').on('click', 'a[data-toggle="collapse"]', function (event) {
  event.preventDefault();
  event.stopPropagation();
  $($(this).data('parent')).find('.panel-collapse.in').collapse('hide');
  $($(this).attr('href')).collapse('show');
})
</script>
